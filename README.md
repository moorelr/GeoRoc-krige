# GeoRoc-krige

moorelr/georoc-krige is licensed under The MIT License
Copyright 2019 Lowell R. Moore

For questions or comments, email moorelr@vt.edu
This repository was made using R 3.5.2

# Purpose

This repository is designed to allow the user to pull precompiled files from the GeoRoc database and do some simple statistical analyses including kriging elemental concentrations.

# Installation

It is assumed that the user is using Windows, but the R scripts should also be compatible for Mac and Linux users.

To install R, visit https://www.r-project.org/ and follow the instructions there.

(Optional) To execute scripts with demo batch file, the directory containing Rscript.exe should be in the system path (probably something like "...\Program Files\R\R-3.5.2\bin")

The following are required packages, which are stored on the CRAN repository: geoR, gstat, maptools. The script "Pull georoc data.R" will prompt the user for permission to install these packages to the default R library using the "install.packages()" function, and the user is encouraged to inspect this script before running.

# Use

Before running, find the URL for the desired GeoRoc precompiled dataset.

Run the "Pull georoc data.R" script to import and filter data from GeoRoc
Run the "Summary statistics.R" script to generate summary statistics of the data.
Run the "Georoc_maps.R" script to generate a map showing sample locations of downloaded GeoRoc data.
Run the "Geostatistics.R" script to generate semivariogram models and krige the data.

Plots generated by these scripts will be saved as .pdf files in the "Figures" subfolder, which is generated by the "Pull georoc data.R" script.

Note that parameters for the model semivariogram are generated more or less arbitrarily, and these can be tweaked after an initial run using the varg_params.csv file.

# Known bugs/incomplete features

 - Krige legend is broken (commented out)
 - Need to implement cross-validation check
 - Would be nice to provide some graphical output during non-interactive runs (e.g. semivariogram or a map showing the data)
 - elements are only flagged for use in semivariograms and krige calculations if they are > 0 (this was a quick workaround for some problem that I encountered early in writing this and have since forgotten about)
 - apparently, I can't spell!
